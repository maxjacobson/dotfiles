#!/usr/bin/env fish

set --local current_branch (git branch --show-current)

git branch --sort=authordate --format='%(refname:short)' |
    grep --invert-match "$current_branch" |
    xargs --no-run-if-empty gum filter --no-limit --no-fuzzy --reverse --header "Select branches to delete" |
    xargs git branch --delete --force
